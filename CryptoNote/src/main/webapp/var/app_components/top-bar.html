<link rel="import" href="../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../bower_components/neon-animation/web-animations.html">
<link rel="import" href="../bower_components/neon-animation/animations/slide-from-right-animation.html">
<link rel="import" href="../bower_components/neon-animation/animations/slide-right-animation.html">
<link rel="import" 	href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" 	href="../bower_components/iron-icons/device-icons.html">
<link rel="import" 	href="../bower_components/iron-icons/iron-icons.html">

<dom-module id="top-bar">
<template>
	<style is="custom-style" include="iron-flex iron-flex-alignment shared2-styles">
		paper-dialog.right-menu { @apply --right-menu;}
	
		paper-icon-button.ic2 { @apply --barbtn2-n;	}
	    paper-icon-button.ic2:hover { @apply --barbtn2-hover; }
	    paper-icon-button[disabled] { /* le mixin prévu ne marche pas */ color: var(--barbtn2-dis); }
	    
	    paper-icon-button.ic1 { @apply --barbtn1-n;	}
	    paper-icon-button.ic1:hover { @apply --barbtn1-hover }
	    paper-icon-button[disabled] { /* le mixin prévu ne marche pas */ color: var(--barbtn1-dis); }
	    
	    .icm {
		    --iron-icon-stroke-color: var(--barbtn2-bg);
		    --iron-icon-fill-color: var(--barbtn2-bg);
		}
	</style>
	<style>
		:host { }
		:host .top { @apply --bar-view;}
		:host .back { cursor: pointer; }
		:host .backn { cursor: auto; }
		:host .back:hover { background-color: var(--barbtn2-dis); color: var(--barbtn2-bg); }
		:host .backt { font-family: var(--font-cf); font-size:var(--font-l); height:var(--font-xl); margin-right:5rem; overflow:hidden; }
		:host .sm { height: var(--font-xxl); width: var(--font-xxl); margin:0 0.2rem; }
		:host .icm { height: var(--font-xxl); width: var(--font-xxl); margin:0 0.2rem; 
			border-radius:var(--font-xxl2); webkit-border-radius:var(--font-xxl2); cursor:pointer; background-color: var(--barbtn2-color);}
		:host .icm:hover { background-color: var(--barbtn2-dis); }
		:host .sync { @apply --mono-reg; font-size:var(--font-s); color:var(--barbtn2-color); margin:0 0 0 0.3rem; }
		
		:host .menuMode { margin:0; padding:0; }
		:host .actuel, :host .futur0, :host .futur1, :host .futur2 { padding:0.5rem; text-align:center; @apply --cf-reg;}
		:host .futur0, :host .futur1, :host .futur2 { padding:0.5rem; text-align:center; @apply --cf-reg; cursor:pointer; color:var(--barbtn2-color);}
		:host .futur0 { background-color:var(--tb-bg0);}
		:host .futur1 { background-color:var(--tb-bg1);}
		:host .futur2 { background-color:var(--tb-bg2);}
		:host .actuel { padding:0.5rem; text-align:center; @apply --cf-reg;}
	</style>
<div class="top layout horizontal justified" on-tap="back" style$="[[tbStyle(mode)]]">
	<div class$="[[backCl(previousPage)]]">
		<div class="flex layout horizontal start center">
			<paper-icon-button class="ic2" disabled="[[!previousPage]]" title="[[libPreviousPage]]" icon="icons:arrow-back"></paper-icon-button>
			<div class="backt" hidden$="[[!previousPage]]">[[libPreviousPage]]</div>
		</div>
	</div>
	<div class="layout horizontal center">
		<div hidden$="[[isMode(mode,2)]]" class="sync">[[lapse]]</div>
		<paper-icon-button hidden$="[[isMode(mode,2)]]" class="ic2" on-tap="tapSync" title="[[lib('tb_resync',lang)]]" icon="icons:refresh" ></paper-icon-button>
		<iron-icon hidden$="[[!isMode(mode,0)]]" class="icm" src$="[[inc]]" on-tap="clickMode"></iron-icon>
		<iron-icon hidden$="[[!isMode(mode,1)]]" class="icm" icon="icons:swap-horiz" on-tap="clickMode"></iron-icon>
		<iron-icon hidden$="[[!isMode(mode,2)]]" class="icm" icon="device:airplanemode-active" on-tap="clickMode"></iron-icon>
		<img class="sm" src$="[[sm]]" hidden$="[[!isSudo]]"></img>
		<paper-icon-button class="ic2" on-tap="showMenu" title="[[lib('tb_menu',lang)]]" icon="icons:menu"></paper-icon-button>
	</div>
</div>

<paper-dialog id="menuMode" class="right-menu" modal entry-animation="slide-from-right-animation" exit-animation="slide-right-animation">
	<div class="menuMode">
		<div class="bar layout horizontal justified">
			<paper-icon-button class="ic1" on-tap="closeMenuMode" icon="icons:close"></paper-icon-button>
			<div class="actuel" hidden$="[[!isMode(mode,0)]]">[[lib("tb_ac0",lang)]]</div>
			<div class="actuel" hidden$="[[!isMode(mode,1)]]">[[lib("tb_ac1",lang)]]</div>
			<div class="actuel" hidden$="[[!isMode(mode,2)]]">[[lib("tb_ac2",lang)]]</div>
			<help-button help="p12"></help-button>
		</div>
		<div class="futur0" on-tap="reloadMode0" hidden$="[[futurMode(mode,0)]]">[[lib("tb_futur0",lang)]]
			<iron-icon class="icm" src$="[[inc]]"></iron-icon>
		</div>
		<div class="futur1" on-tap="reloadMode1" hidden$="[[futurMode(mode,1)]]">[[lib("tb_futur1",lang)]]
				<iron-icon class="icm" icon="icons:swap-horiz"></iron-icon>
		</div>
		<div class="futur2" on-tap="reloadMode2" hidden$="[[futurMode(mode,2)]]">[[lib("tb_futur2",lang)]]
			<iron-icon class="icm" icon="device:airplanemode-active"></iron-icon>		
		</div>
	</div>
</paper-dialog>
</template>
<script src="../js/top-bar.js"></script>
</dom-module>
	