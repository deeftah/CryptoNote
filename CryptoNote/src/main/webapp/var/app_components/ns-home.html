<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="phrase-box.html">

<dom-module id="ns-home">
<template>
<style is="custom-style" include="iron-flex iron-flex-alignment">
	paper-button.color-std { color : var(--btnstd-color); }
	paper-button.color-std:hover { 	@apply --btnstd-hover; }
</style>
	<style>
		:host { font-family: var(--font-std); font-size:1rem;}
	</style>
<div id="top">
	<div class="auth">
		</div><paper-button on-tap="getPhrase" raised class="color-std">[[lib('ns_auth',lang)]]</paper-button>
		<help-button help="ns-ps"></help-button>
		<phrase-box id="phrase" lang=[[lang]]></phrase-box>
	</div>
</div>
</template>
<script>
    class NsHome extends Polymer.Element {
		static get is() { return "ns-home"; }
		static get properties() { return { 
			lang : {type:String, value:"xx"},
			}
		}

		lib(code, lang) { return App.lib(code);}

      	constructor() { 
      		super(); 
      		App.setMsg("fr", "ns_auth", "S'authentifier");
      	}
      	
      	async getPhrase() {
      		let typed = await this.$.phrase.show("Phrase d'habilitation Ã  l'administration :", 3, 15);
      		if (typed)
      			console.log("bcc: " + typed.bcc + "\nbcr : " + typed.bcr + "\nshabcc : " + typed.shabcc);
      		else
      			console.log("Non auth.");
      	}
	}
customElements.define(NsHome.is, NsHome);
</script>
</dom-module>
	