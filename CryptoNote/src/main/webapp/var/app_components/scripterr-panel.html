<link rel="import" href="../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../bower_components/neon-animation/web-animations.html">
<link rel="import" href="../bower_components/neon-animation/animations/slide-from-left-animation.html">
<link rel="import" href="../bower_components/neon-animation/animations/slide-left-animation.html">
<link rel="import" href="../bower_components/paper-input/paper-textarea.html">
<link rel="import" href="../app_components/collapsable-block.html">

<dom-module id="scripterr-panel">
<template>
	<style is="custom-style" include="iron-flex iron-flex-alignment">
		paper-dialog.size-position-left-panel { margin:0 !important;
			position:fixed; top:0; left:0; height:100vh; width:40%; min-width:300px; overflow:hidden;}
		paper-button.custom { }
		paper-button.custom:hover { background-color: var(--pb-hover); }
		paper-button.pbok { @apply --std-bold; font-size:var(--font-medium); margin-bottom:0.5rem;
	 		background-color: var(--pbok-bg); 
	 		color: var(--pbok-color);
		    --paper-button-raised-keyboard-focus: { background-color: var(--pb-hover) !important; color: white !important; };
		}
		paper-button.pbok:hover {color:var(--pbok-bg); }
	 	paper-button.pbko { @apply --std-bold; font-size:var(--font-medium) !important;  margin-bottom:0.5rem;
	 		background-color: var(--pbko-bg); 
	 		color: var(--pbko-color);
		    --paper-button-raised-keyboard-focus: { background-color: var(--pb-hover) !important; color: white !important; };
		}
		paper-button.pbko:hover {color:var(--pbko-bg); }
	 	paper-button.lite { @apply --std-reg; font-size:var(--font-small) !important;
	 		background-color: var(--pblite-bg); 
	 		color: var(--pblite-color);
		    --paper-button-raised-keyboard-focus: { background-color: var(--pb-hover) !important; color: white !important; };
		}
		
		#ta {
			--iron-autogrow-textarea: {
				padding:0;
				color: black;
				@apply --mono-reg;
				font-size:var(--font-small);
			}
			--paper-input-container: {
				padding:0; 
				margin:0;
				/* border:2px solid var(--paper-grey-100); */
			}
			--paper-input-container-color : white !important; 
			--paper-input-container-focus-color : white;
        }
				
	</style>
    <style>
	  	:host .top { height:100vh; overflow:hidden; margin:0 !important; padding:0 !important; background-color:white;}
	  	:host .bar { padding:0.5rem; margin:0; background-color:white; border-bottom: 2px solid var(--paper-grey-100); }
	  	:host .body { overflow-y:auto; @apply --std-reg; padding:0.5rem; margin:0; background-color:white; font-size:var(--font-reg);}
	  	:host .info { margin-bottom:1rem; @apply --cf-reg; font-size:var(--font-medium); color:var(--pbok-bg);}
	  	:host .more { margin-bottom:1rem; @apply --std-reg; font-size:var(--font-reg);}
	  	:host .code { margin-bottom:1rem; @apply --std-reg; font-size:var(--font-small);}
	  	:host .detail { @apply --mono-bold; font-size:var(--font-reg); }
	  	:host .pci { margin:0; padding:0 0.2rem; }
	</style>
	<paper-dialog id="panel" class="size-position-left-panel" modal entry-animation="slide-from-left-animation" exit-animation="slide-left-animation">
	
	<div class="top layout vertical flex-start">
		<div class="bar layout vertical">
		<div class="bar1 layout horizontal center-center">
			<paper-button class="custom pbok" raised on-tap="onReturnToApp"><iron-icon icon="icons:reply"></iron-icon>[[lib('er_return',lang)]]</paper-button>
		</div>
		<div class="bar2 layout horizontal center-center">
			<paper-button class="custom lite" on-tap="onBye"><iron-icon icon="icons:close"></iron-icon>[[lib('er_quit',lang)]]</paper-button>
			<paper-button class="custom lite" on-tap="onReload"><iron-icon icon="icons:file-download"></iron-icon>[[lib('er_reload',lang)]]</paper-button>
		</div>
		</div>
		<div class="body flex layout vertical">
			<div class="info">[[info]]</div>
			<div class="more" hidden$="[[!message]]">[[message]]</div>
			
			<collapsable-block class="pci" title="[[lib('er_resumeq',lang)]]" ref="4" openref="{{cref}}" maxheight="200px">
				<div class="pci2">[[resumer]]</div>
			</collapsable-block>
			<collapsable-block class="pci"  title="[[lib('er_reloadq',lang)]]" ref="5" openref="{{cref}}" maxheight="200px">
				<div class="pci2">[[reloadr]]</div>
			</collapsable-block>
			<collapsable-block class="pci" title="[[lib('er_detailq',lang)]]" ref="6" openref="{{cref}}" maxheight="500px">
				<div class="detail">
					<div class="code" hidden="[[!message]]">[[message]]</span></div>
					<label slot="label">[[name]]</label>
					<paper-textarea id="ta" no-label-float value="[[lines]]"></paper-textarea>
		     	</div>
			</collapsable-block>
			
     	</div>
	</div>
	</paper-dialog>
</template>
<script src="../js/scripterr-panel.js"></script>
</dom-module>