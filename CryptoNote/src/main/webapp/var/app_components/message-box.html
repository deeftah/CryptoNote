<link rel="import" href="../bower_components/paper-toast/paper-toast.html">

<dom-module id="message-box">
<template>
	<style is="custom-style" include="shared2-styles">
	</style>
	<style>
		:host { }
		:host #message { max-height:500px !important; @apply --std-reg; }
		:host .std { background-color: var(--msg-okbg) !important; color: var(--msg-okcolor) !important;}
		:host .err { background-color: var(--msg-kobg) !important; color: var(--msg-kocolor) !important;}
	</style>
	<paper-toast id="message" on-tap="onClose" class$="[[cl]]" text="[[text]]" duration="[[duration]]"></paper-toast>
</div>
</template>
<script>
    class MessageBox extends Polymer.Element {
		static get is() { return "message-box"; }
		static get properties() { return { 
			text : {type:String, value:"?"},
			duration : {type:Number, value:0},
			cl : {type:String, value:"std"}
			}
		}

      	constructor() { super(); }
      	      	
    	show(msg, duration, err){
    		if (!msg) return;
   			this.cl = err ? "err" : "std";
    		this.text = msg;
    		this.duration = duration ? duration : 3000;
    		this.$.message.show();
    	}

    	onClose() {
    		this.$.message.close();
    	}
	}
customElements.define(MessageBox.is, MessageBox);
</script>
</dom-module>
	