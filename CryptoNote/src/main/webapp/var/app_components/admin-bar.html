<link rel="import" 	href="../bower_components/paper-icon-button/paper-icon-button.html">

<dom-module id="admin-bar">
<template>
	<style is="custom-style" include="iron-flex iron-flex-alignment shared2-styles">
		paper-icon-button.ic { @apply --barad-n;	}
	    paper-icon-button.ic:hover { @apply --barad-hover }
	    paper-icon-button[disabled] { /* le mixin prévu ne marche pas */ color: var(--barad-dis); }	    
	</style>
	<style>
		:host { @apply --cf-reg; font-size:var(--font-l);}
		:host .top { @apply --barad-view; }
	</style>
<div class="top layout horizontal center start">
	<paper-icon-button class="ic2" disabled="[[!previousPage]]" on-tap="back" title="[[libPreviousPage]]" icon="icons:arrow-back"></paper-icon-button>
	Ma belle top bar 2
</div>
</template>
<script>
    class AdminBar extends Polymer.Element {
		static get is() { return "admin-bar"; }
		static get properties() { return { 
			lang : {type:String, value:"xx"},
			previousPage : {type:Object, value:null},
			libPreviousPage : {type:String, value:""}
			}
		}

		lib(code, lang) { return App.lib(code);}

		constructor() {
			super();
			App.setMsg("fr", "tb_back", "Cliquer pour revenir à la vue précédente");
			App.setMsg("fr", "tb_back2", "Cliquer pour revenir à {0}");
		} 
		
		setPreviousPage(p) { 
			this.previousPage = p;
			if (!p)
				this.libPreviousPage = "";
			else
				this.libPreviousPage = p.title ? App.format('tb_back2', p.title()) : App.lib('tb_back');
		}
		
		back() { App.appHomes.back(); }
		
	}
customElements.define(AdminBar.is, AdminBar);
</script>
</dom-module>
	